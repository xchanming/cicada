{% set page = hook.page %}
{# @var page \Cicada\Storefront\Page\Page #}

{% set criteria = {
    'filter': [
        { 'field': 'productNumber', 'type': 'equals', 'value': 'p1' }
    ]
} %}

{% set productIds = services.repository.ids('product', criteria).ids %}

{% do page.addArrayExtension('myProductIds', {
    'ids': productIds
}) %}
